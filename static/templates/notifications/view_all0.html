{% extends 'base.html' %}
{% load app_filters %}

{% block avisos_active %}active{% endblock %}


{% block header %}
    

<div class="blog-header">
<h1 class="blog-title">Suas notificações:</h1>
</div>
<hr>
{% endblock %}

{% block content %}

    <div class="blog-post">
        <h3>
            {% if num_notif = 1 %}{{ num_notif }} nova notificação{% elif num_notif > 1 %}{{ num_notif }} novas notificações{% else %}Nenhuma nova notificação{% endif %}:</h3>
        {% for notif in unread %}
        <blockquote>
          <p class="autor-info"><img class="user-pic" src="{{ notif.from_user.userprofile.profile_image_url }}" /> {{ notif.from_user.userprofile.name }}</p>
          <p>{{ notif.note }} | {{ notif.timestamp }}</p>
          <p>{% if notif.question %}{{ notif.question }}{% else %}{{ notif.answer.resposta|safe|truncatewords_html:100 }}{% endif %}</p>
        </blockquote>
        {% endfor %} 
            
    </div><!-- /.blog-post -->
    <hr>
        
        <div class="blog-post">
        <h3>Notificações anteriores:</h3>
        {% for notif in read %}
        <blockquote>
          <p class="autor-info"><img class="user-pic" src="{{ notif.from_user.userprofile.profile_image_url }}" /> {{ notif.from_user.userprofile.name }} {{ notif.note }} {{ notif.question.titulo }}</p>
          <p>{{ notif.note }} | {{ notif.timestamp }}</p>
          <p>{% if notif.question %}{{ notif.question }}{% else %}{{ notif.answer.resposta|safe|truncatewords_html:100 }}{% endif %}</p>
        </blockquote>
        {% endfor %} 
            
    </div><!-- /.blog-post -->

</div><!-- /.blog-main -->

{% endblock %}